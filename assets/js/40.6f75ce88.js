(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{860:function(a,s,t){"use strict";t.r(s);var e=t(114),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"q-a"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#q-a"}},[a._v("#")]),a._v(" Q&A")]),a._v(" "),t("h2",{attrs:{id:"navicat连接mysql8-0出现2059错误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#navicat连接mysql8-0出现2059错误"}},[a._v("#")]),a._v(" Navicat连接MySQL8.0出现2059错误")]),a._v(" "),t("h3",{attrs:{id:"一-原因"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一-原因"}},[a._v("#")]),a._v(" 一. 原因")]),a._v(" "),t("p",[a._v("在mysql8之前的版本中加密规则为mysql_native_password，而在mysql8以后的加密规则为caching_sha2_password")]),a._v(" "),t("h3",{attrs:{id:"二-解决"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二-解决"}},[a._v("#")]),a._v(" 二. 解决")]),a._v(" "),t("h4",{attrs:{id:"_1-将mysql8-0以后验证方式改为以前版本使用的验证方式mysql-native-password"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-将mysql8-0以后验证方式改为以前版本使用的验证方式mysql-native-password"}},[a._v("#")]),a._v(" 1. 将mysql8.0以后验证方式改为以前版本使用的验证方式"),t("code",[a._v("mysql_native_password")])]),a._v(" "),t("ul",[t("li",[a._v("找到mysql对应的安装目录下"),t("code",[a._v("my-default.ini")]),a._v("文件")]),a._v(" "),t("li",[a._v("将default_authentication_plugin= "),t("code",[a._v("caching_sha2_password")]),a._v(" 改为 default_authentication_plugin= "),t("code",[a._v("mysql_native_password")])])]),a._v(" "),t("h4",{attrs:{id:"_2-以管理员身份运行cmd-进入mysql的安装目录下的bin文件夹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-以管理员身份运行cmd-进入mysql的安装目录下的bin文件夹"}},[a._v("#")]),a._v(" 2. 以管理员身份运行cmd，进入mysql的安装目录下的bin文件夹")]),a._v(" "),t("h4",{attrs:{id:"_3-若没有data文件夹-执行以下命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-若没有data文件夹-执行以下命令"}},[a._v("#")]),a._v(" 3. 若没有data文件夹，执行以下命令")]),a._v(" "),t("ol",[t("li",[t("code",[a._v("mysqld -install")])]),a._v(" "),t("li",[t("code",[a._v("mysqld --initialize")])])]),a._v(" "),t("blockquote",[t("p",[a._v("此时查看已有data文件夹")])]),a._v(" "),t("h4",{attrs:{id:"_4-登录数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-登录数据库"}},[a._v("#")]),a._v(" 4. 登录数据库")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("mysql -u root -p")]),a._v(" 然后输入密码")])]),a._v(" "),t("h4",{attrs:{id:"_5-修改加密规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-修改加密规则"}},[a._v("#")]),a._v(" 5. 修改加密规则")]),a._v(" "),t("ul",[t("li",[a._v("执行 "),t("code",[a._v("ALTER USER 'root'@'localhost' IDENTIFIED BY 'password' PASSWORD EXPIRE NEVER;")])])]),a._v(" "),t("h4",{attrs:{id:"_6-更新用户密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-更新用户密码"}},[a._v("#")]),a._v(" 6. 更新用户密码")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'xxxxx';")])])]),a._v(" "),t("h4",{attrs:{id:"_7-刷新权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-刷新权限"}},[a._v("#")]),a._v(" 7. 刷新权限")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("FLUSH PRIVILEGES;")])])]),a._v(" "),t("h4",{attrs:{id:"_8-成功连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-成功连接"}},[a._v("#")]),a._v(" 8. 成功连接")]),a._v(" "),t("hr"),a._v(" "),t("h2",{attrs:{id:"ssl-警告问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssl-警告问题"}},[a._v("#")]),a._v(" SSL 警告问题")]),a._v(" "),t("h3",{attrs:{id:"一、现象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、现象"}},[a._v("#")]),a._v(" 一、现象")]),a._v(" "),t("blockquote",[t("p",[a._v("Tue Jan 10 23:49:14 CST 2017 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.")])]),a._v(" "),t("h3",{attrs:{id:"二、解决"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、解决"}},[a._v("#")]),a._v(" 二、解决")]),a._v(" "),t("p",[a._v("由")]),a._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[a._v("jdbc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("//127.0.0.1/xxx\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("改为")]),a._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("jdbc:mysql")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" //127.0.0.1/xxx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("?")]),a._v("useSSL=false\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("hr"),a._v(" "),t("h2",{attrs:{id:"unknown-system-variable-query-cache-size"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#unknown-system-variable-query-cache-size"}},[a._v("#")]),a._v(" Unknown system variable 'query_cache_size'")]),a._v(" "),t("h3",{attrs:{id:"一、解决"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、解决"}},[a._v("#")]),a._v(" 一、解决")]),a._v(" "),t("p",[a._v("需要升级mysql版本到8.0.11")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("dependence"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("groupId"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("/groupId"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("artifactId"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("mysql-connector-java"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("/artifactId"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("version"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.0")]),a._v(".1"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[a._v("1")]),a._v("<")]),a._v("/version"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("/dependence"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("hr"),a._v(" "),t("h2",{attrs:{id:"the-server-time-zone-value-oð1u±e×1⁄4e±1⁄4a-is-unrecognized-or-represents-more-than-one-time-zone"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-server-time-zone-value-oð1u±e×1⁄4e±1⁄4a-is-unrecognized-or-represents-more-than-one-time-zone"}},[a._v("#")]),a._v(" The server time zone value 'ÖÐ¹ú±ê×¼Ê±¼ä' is unrecognized or represents more than one time zone")]),a._v(" "),t("h3",{attrs:{id:"一、原因"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、原因"}},[a._v("#")]),a._v(" 一、原因")]),a._v(" "),t("p",[a._v("MySQL 6.0.3 ，是数据库和系统时区差异所造成的")]),a._v(" "),t("h3",{attrs:{id:"二、解决-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、解决-2"}},[a._v("#")]),a._v(" 二、解决")]),a._v(" "),t("h4",{attrs:{id:"_1-在jdbc连接的url后面加上servertimezone-gmt"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-在jdbc连接的url后面加上servertimezone-gmt"}},[a._v("#")]),a._v(" 1. 在jdbc连接的url后面加上serverTimezone=GMT")]),a._v(" "),t("blockquote",[t("p",[a._v("如果需要使用gmt+8时区，需要写成GMT%2B8(&serverTimezone=GMT%2B8)，否则会被解析为空")])]),a._v(" "),t("h4",{attrs:{id:"_2-降低mysql-jdbc驱动版本为5-x"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-降低mysql-jdbc驱动版本为5-x"}},[a._v("#")]),a._v(" 2. 降低MySQL jdbc驱动版本为5.x")]),a._v(" "),t("hr"),a._v(" "),t("h2",{attrs:{id:"packet-for-query-is-too-large"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#packet-for-query-is-too-large"}},[a._v("#")]),a._v(" Packet for query is too large")]),a._v(" "),t("h3",{attrs:{id:"一、解决-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、解决-2"}},[a._v("#")]),a._v(" 一、解决")]),a._v(" "),t("p",[a._v("可在docker启动mysql时指定")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("docker run "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),a._v(":3306 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--name mysql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MYSQL_ROOT_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("xxx "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("max_allowed_packet")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("16M "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n-d mysql:latest\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("hr"),a._v(" "),t("h2",{attrs:{id:"c3p0连接mysql异常"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#c3p0连接mysql异常"}},[a._v("#")]),a._v(" c3p0连接mysql异常")]),a._v(" "),t("h3",{attrs:{id:"一、现象-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、现象-2"}},[a._v("#")]),a._v(" 一、现象")]),a._v(" "),t("blockquote",[t("p",[a._v("com.mchange.v2.resourcepool.TimeoutException: A client timed out while waiting to acquire a resource from com.mchange.v2.resourcepool.BasicResourcePool@79207381 -- timeout at awaitAvailable()")])]),a._v(" "),t("h3",{attrs:{id:"二、解决-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、解决-3"}},[a._v("#")]),a._v(" 二、解决")]),a._v(" "),t("h4",{attrs:{id:"_1、驱动配置有误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、驱动配置有误"}},[a._v("#")]),a._v(" 1、驱动配置有误")]),a._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[a._v("driver=com.mysql.jdbc.Driver\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h4",{attrs:{id:"_2、数据库连接地址有误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、数据库连接地址有误"}},[a._v("#")]),a._v(" 2、数据库连接地址有误")]),a._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[a._v("url=jdbc:mysql://localhost:3306/test?3useUnicode=true&characterEncoding=utf8\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("配置应该加上"),t("code",[a._v("时区")])]),a._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[a._v("jdbc.url=jdbc:mysql://localhost:3306/test?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h4",{attrs:{id:"_3、账号密码有误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、账号密码有误"}},[a._v("#")]),a._v(" 3、账号密码有误")]),a._v(" "),t("h4",{attrs:{id:"_4、数据库未启动或无权访问"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、数据库未启动或无权访问"}},[a._v("#")]),a._v(" 4、数据库未启动或无权访问")]),a._v(" "),t("h4",{attrs:{id:"_5、项目未引入对应的驱动jar包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5、项目未引入对应的驱动jar包"}},[a._v("#")]),a._v(" 5、项目未引入对应的驱动jar包")]),a._v(" "),t("h4",{attrs:{id:"_6、mysql-root没有远程访问的权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6、mysql-root没有远程访问的权限"}},[a._v("#")]),a._v(" 6、mysql root没有远程访问的权限")]),a._v(" "),t("p",[a._v("进入mysql数据库")]),a._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("grant")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("all")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("privileges")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("on")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("to")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'root'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("@'%'")]),a._v(" identified "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("by")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'root'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("with")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("grant")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("option")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nflush "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("privileges")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("h4",{attrs:{id:"_7、jdbc驱动要放到jre里面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7、jdbc驱动要放到jre里面"}},[a._v("#")]),a._v(" 7、jdbc驱动要放到jre里面")]),a._v(" "),t("hr"),a._v(" "),t("ad"),a._v(" "),t("comment")],1)}),[],!1,null,null,null);s.default=r.exports}}]);